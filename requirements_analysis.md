# **SEAL 需求分析文档**

## 项目概述

### 项目背景
SEAL 是一个用于 MEG/EEG 源成像分析的 MATLAB 平台，具备**数据管理、预处理、源成像算法、可视化与仿真验证**五大核心模块。现计划基于 **MATLAB App Designer** 对系统进行重构，提升界面交互性、代码可维护性与用户体验。

### 系统目标
- 构建一个**模块化、开放、可扩展**的源成像分析平台
- 支持**多格式数据导入**与标准化处理流程
- 提供**图形化交互界面**，降低非编程用户使用门槛
- 集成**多种源成像算法**，支持仿真与性能评估

---

## 用户角色

| 角色 | 主要需求 |
|------|-----------|
| 神经影像研究者 | 直观的数据导入、预处理、源成像分析、结果可视化 |
| 算法开发者 | 算法集成接口、仿真数据生成、性能评估工具 |
| 非编程用户 | 图形化操作、流程化分析、结果导出 |

---

## 功能需求

### 项目管理模块（SEAL_GUI.mlapp）

| 功能 | 需求描述 | 优先级 |
|------|-----------|---------|
| 项目/协议分级管理 | 支持树形结构 | 高 |
| 多格式数据导入 | 支持 .mat, .set，并提供 EEGLAB 转换功能 | 低 |


### 预处理模块（Preprocess.mlapp）

| 功能 | 需求描述 | 优先级 |
|------|-----------|---------|
| 时域滤波 | 高通、低通、带通、带阻滤波器 | 高 |
| 时频分析 | STFT、小波变换、降采样 | 高 |
| 空间滤波 | Laplacian、PCA、ICA 伪迹剔除 | 高 |
| 事件相关分析 | 分段、基线校正、叠加平均 | 高 |
| 噪声协方差估计 | 自动计算与白化算子生成 | 高 |
| 实时频谱显示 | 支持通道选择与功率谱实时更新 | 中 |
| 数据保存机制 | 预处理结果应可被后续模块调用 | 高 |

### 源成像算法模块

| 功能 | 需求描述 | 优先级 |
|------|-----------|---------|
| 算法集成 | MNE, dSPM, LORETA, LCMV, FOCUSS 等 | 已完成 |
| 统一算法接口 | 输入：Leadfield、噪声协方差、正则化参数 | 高 |
| 参数可视化设置 | 支持不同算法类别的参数面板 | 高 |
| 偶极子方向设置 | 自由/固定方向选择 | 高 |
| 结果保存与节点管理 | 结果保存为 Result 节点，与 Data 关联 | 高 |
| 算法窗口管理 | 避免重叠，自动调整位置，减少弹窗 | 中 |

### 可视化模块

| 功能 | 需求描述 | 优先级 |
|------|-----------|---------|
| 信号可视化 | 时间序列、功率谱、拓扑图同步更新 | 高 |
| 源成像结果可视化 | 3D 脑模型渲染，支持时间点交互 | 高 |
| ROI 选择与提取 | 支持脑区掩膜、多选/单选模式 | 高 |
| 多视图同步 | 支持信号-源空间-时间域联动 | 高 |
| 通道显示优化 | 支持通道数过多时的显示调整 | 中 |

### 仿真验证模块

待议

---

## 非功能需求

| 类别 | 需求描述 |
|------|-----------|
| 性能 | 交互响应时间 < 150ms，支持大规模数据加载与处理 |
| 交互优化 | 超过0.1秒的长等待显示进度条|
| 可用性 | 图形化界面，操作流程清晰，学习曲线低 |
| 可维护性 | 面向对象模块化设计，接口统一，便于扩展与调试 |

---

## 用户界面需求

1. 重新梳理类关系，提高选中效果，部分按钮选中后显示
2. 避免右击和弹窗，操作给出明确反馈
